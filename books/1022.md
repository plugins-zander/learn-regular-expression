# 限定符

限定符用来指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。有 * 或 + 或 ? 或 {n} 或 {n,} 或 {n,m} 共6种。

正则表达式的限定符有：

| 字符    | 描述                                                         |
| ------- | ------------------------------------------------------------ |
| `*`     | 匹配前面的子表达式零次或多次。例如，`zo*` 能匹配` "z"` 以及` "zoo"`。`* `等价于`{0,}`。 |
| `+`     | 匹配前面的子表达式一次或多次。例如，`'zo+'` 能匹配 `"zo" `以及` "zoo"`，但不能匹配 `"z"`。+ 等价于` {1,}`。 |
| `?`     | 匹配前面的子表达式零次或一次。例如，`"do(es)?" `可以匹配` "do"` 、 `"does" `中的 `"does"` 、` "doxy"` 中的` "do"` 。`?` 等价于` {0,1}`。 |
| `{n}`   | n 是一个非负整数。匹配确定的 n 次。例如，`'o{2}'` 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o。 |
| `{n,}`  | n 是一个非负整数。至少匹配n 次。例如，`'o{2,}' `不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。`'o{1,}' `等价于` 'o+'`。`'o{0,}' `则等价于 `'o*'`。 |
| `{n,m}` | m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次。例如，`"o{1,3}"` 将匹配 "fooooood" 中的前三个 o。`'o{0,1}'` 等价于` 'o?'`。请注意在逗号和两个数之间不能有空格。 |

由于章节编号在大的输入文档中会很可能超过九，所以您需要一种方式来处理两位或三位章节编号。限定符给您这种能力。下面的正则表达式匹配编号为任何位数的章节标题：

```
/Chapter [1-9][0-9]*/
```

请注意，限定符出现在范围表达式之后。因此，它应用于整个范围表达式，在本例中，只指定从 0 到 9 的数字（包括 0 和 9）。

这里不使用 + 限定符，因为在第二个位置或后面的位置不一定需要有一个数字。也不使用 ? 字符，因为使用 ? 会将章节编号限制到只有两位数。您需要至少匹配 Chapter 和空格字符后面的一个数字。

如果您知道章节编号被限制为只有 99 章，可以使用下面的表达式来至少指定一位但至多两位数字。

```
/Chapter [0-9]{1,2}/
```

上面的表达式的缺点是，大于 99 的章节编号仍只匹配开头两位数字。另一个缺点是 Chapter 0 也将匹配。只匹配两位数字的更好的表达式如下：

```
/Chapter [1-9][0-9]?/
```

或

```
/Chapter [1-9][0-9]{0,1}/
```

***、+限定符都是贪婪的，因为它们会尽可能多的匹配文字，只有在它们的后面加上一个?就可以实现非贪婪或最小匹配。**

例如，您可能搜索 HTML 文档，以查找括在 H1 标记内的章节标题。该文本在您的文档中如下：

```
<H1>Chapter 1 - 介绍正则表达式</H1>
```

**贪婪：**下面的表达式匹配从开始小于符号 (<) 到关闭 H1 标记的大于符号 (>) 之间的所有内容。

```
/<.*>/
```

**非贪婪：**如果您只需要匹配开始和结束 H1 标签，下面的非贪婪表达式只匹配` <H1>`。

```
/<.*?>/
```

如果只想匹配开始的 H1 标签，表达式则是：

```
/<\w+?>/
```

通过在 *、+ 或 ? 限定符之后放置 ?，该表达式从"贪心"表达式转换为"非贪心"表达式或者最小匹配。